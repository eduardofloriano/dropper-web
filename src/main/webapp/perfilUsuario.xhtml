<ui:composition template="_template_box_default.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="titulo">Perfil</ui:define>


	<ui:define name="conteudo">
		<p:panel styleClass="dashboard-area">
			<div class="ui-g section-perfil-usuario">
				<div class="ui-g-12 ui-g-nopad">

					<div class="ui-g-12 upload-area">

						<p:panel header="Dados Pessoais">
							<h:form id="perfilUsuario-form">
								<p:panelGrid styleClass="section-cadastro-form-table"
									columns="2">

									<p:outputLabel value="Nome:" for="nome" />
									<p:inputText id="nome"
										value="#{usuarioBean.usuarioLogado.nome}" required="True"
										requiredMessage="Nome é Obrigatório">
										<f:ajax event="blur" render="messages" />
									</p:inputText>

									<p:outputLabel value="Sobrenome:" for="sobrenome" />
									<p:inputText id="sobrenome"
										value="#{usuarioBean.usuarioLogado.sobrenome}" required="True"
										requiredMessage="Sobrenome é Obrigatório">
										<f:ajax event="blur" render="messages" />
									</p:inputText>

									<p:outputLabel value="Data de Nascimento:" for="dataNascimento" />
									<p:calendar id="dataNascimento"
										value="#{usuarioBean.usuarioLogado.dataNascimento}"
										required="True"
										requiredMessage="Data de Nascimento é Obrigatório"
										pattern="dd/MM/yyyy" mask="true">
										<f:ajax event="blur" render="messages" />
									</p:calendar>

									<p:outputLabel value="Telefone:" for="telefone" />
									<p:inputText id="telefone"
										value="#{usuarioBean.usuarioLogado.telefone}" required="True"
										requiredMessage="Telefone é Obrigatório">
										<f:ajax event="blur" render="messages" />
									</p:inputText>

									<p:outputLabel value="Endereço:" for="endereco" />
									<p:inputText id="endereco"
										value="#{usuarioBean.usuarioLogado.endereco}" required="True"
										requiredMessage="Endereço é Obrigatório">
										<f:ajax event="blur" render="messages" />
									</p:inputText>

									<p:outputLabel value="Email:" for="email" />
									<p:inputText id="email"
										value="#{usuarioBean.usuarioLogado.email}" required="True"
										requiredMessage="Email é Obrigatório">
										<f:ajax event="blur" render="messages" />
									</p:inputText>
									<p:outputLabel value="Senha:" for="senha" />
									<p:password id="senha"
										value="#{usuarioBean.usuarioLogado.senha}" required="true"
										feedback="true" requiredMessage="Senha é Obrigatório"
										redisplay="true" />


								</p:panelGrid>
							</h:form>

							<p:panelGrid styleClass="section-cadastro-form-table-buttons"
								columns="1">
								<div class="dropper-separator" />

								<h:form id="imagemPerfilUsuario-form"
									enctype="multipart/form-data">
									<h:inputFile id="dr-input-file" value="#{usuarioBean.file}"
										label="Upload Foto Perfil">
									</h:inputFile>
									
									<p:commandButton styleClass="dr-button-center"
										value="Gravar Foto de Perfil"
										action="#{usuarioBean.alterarImagemPerfil}"
										update=":imagemPerfilUsuario-form"
										process="@form" ajax="false" />

								</h:form>
								<h:form>

									<p:commandButton styleClass="dr-button-center" value="Alterar"
										action="#{usuarioBean.alterar}" update=":perfilUsuario-form"
										process="@this,:perfilUsuario-form" />

									<p:commandButton styleClass="dr-button-center"
										value="Apagar Perfil" action="#{usuarioBean.remover}"
										immediate="true" update=":imagemPerfilUsuario-form"
										process="@this" />
								</h:form>
							</p:panelGrid>

							<p:messages id="messages" globalOnly="true" />

						</p:panel>

						<div class="dropper-separator" />

						<h:form>
							<p:panel header="Dados do Repositório"
								styleClass="section-repositorio-panel">
								<p:panelGrid columns="1"
									styleClass="section-repositorio-form-table-charts">
									<p:chart type="bar"
										model="#{repositorioBean.repositorioBarModel}"
										style="height:300px; width:600px" />

									<p:chart type="pie"
										model="#{repositorioBean.repositorioPieChartModel}"
										style="width:400px;height:300px" />
								</p:panelGrid>
							</p:panel>
						</h:form>
					</div>

				</div>

			</div>
		</p:panel>
	</ui:define>
	<!-- FIM DO CONTEUDO -->


</ui:composition>